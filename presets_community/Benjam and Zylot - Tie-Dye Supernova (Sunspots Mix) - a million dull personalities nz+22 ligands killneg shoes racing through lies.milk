MILKDROP_PRESET_VERSION=201
PSVERSION=3
PSVERSION_WARP=3
PSVERSION_COMP=3
[preset00]
fRating=4.000
fGammaAdj=1.000
fDecay=1.000
fVideoEchoZoom=1.000
fVideoEchoAlpha=0.000
nVideoEchoOrientation=3
nWaveMode=0
bAdditiveWaves=1
bWaveDots=1
bWaveThick=0
bModWaveAlphaByVolume=0
bMaximizeWaveColor=0
bTexWrap=1
bDarkenCenter=0
bRedBlueStereo=0
bBrighten=0
bDarken=1
bSolarize=0
bInvert=0
fWaveAlpha=0.001
fWaveScale=1.074
fWaveSmoothing=0.900
fWaveParam=0.000
fModWaveAlphaStart=0.000
fModWaveAlphaEnd=0.000
fWarpAnimSpeed=1.459
fWarpScale=2.007
fZoomExponent=1.00000
fShader=1.000
zoom=0.99990
rot=0.00000
cx=0.500
cy=0.500
dx=0.00000
dy=0.00000
warp=0.01000
sx=0.99990
sy=1.00000
wave_r=0.000
wave_g=0.000
wave_b=0.000
wave_x=0.000
wave_y=0.000
ob_size=0.050
ob_r=0.000
ob_g=0.000
ob_b=0.000
ob_a=0.000
ib_size=0.260
ib_r=0.250
ib_g=0.250
ib_b=0.250
ib_a=0.000
nMotionVectorsX=64.000
nMotionVectorsY=48.000
mv_dx=0.000
mv_dy=0.000
mv_l=5.000
mv_r=1.000
mv_g=1.000
mv_b=1.000
mv_a=0.010
b1n=0.000
b2n=0.000
b3n=0.000
b1x=1.000
b2x=1.000
b3x=1.000
b1ed=0.250
wavecode_0_enabled=1
wavecode_0_samples=512
wavecode_0_sep=0
wavecode_0_bSpectrum=0
wavecode_0_bUseDots=1
wavecode_0_bDrawThick=1
wavecode_0_bAdditive=1
wavecode_0_scaling=1.00000
wavecode_0_smoothing=0.50000
wavecode_0_r=1.000
wavecode_0_g=1.000
wavecode_0_b=1.000
wavecode_0_a=1.000
wave_0_init1=ma=.5;
wave_0_init2=my=.5;
wave_0_init3=md=0; //direction 0 1 2 3
wave_0_per_point1=oldmd=md;
wave_0_per_point2=md=(md+int(rand(4)))%4;
wave_0_per_point3=md=if(equal(md,oldmd),(md+1)%4,md);
wave_0_per_point4=
wave_0_per_point5=mx=mx+(equal(md,0)*.002*bass);
wave_0_per_point6=mx=mx-(equal(md,1)*.002*bass);
wave_0_per_point7=my=my+(equal(md,2)*.002*treb);
wave_0_per_point8=my=my-(equal(md,3)*.002*treb);
wave_0_per_point9=
wave_0_per_point10=mx=if(above(mx,.9),.5,mx);
wave_0_per_point11=mx=if(below(mx,.1),.5,mx);
wave_0_per_point12=my=if(above(my,.9),.5,my);
wave_0_per_point13=my=if(below(my,.1),.5,my);
wave_0_per_point14=
wave_0_per_point15=x=mx;
wave_0_per_point16=y=my;
wave_0_per_point17=a=bass*.1;
wave_0_per_point18=
wave_0_per_point19=r=bass*.5;
wavecode_1_enabled=1
wavecode_1_samples=512
wavecode_1_sep=0
wavecode_1_bSpectrum=0
wavecode_1_bUseDots=1
wavecode_1_bDrawThick=1
wavecode_1_bAdditive=1
wavecode_1_scaling=1.00000
wavecode_1_smoothing=0.50000
wavecode_1_r=1.000
wavecode_1_g=1.000
wavecode_1_b=1.000
wavecode_1_a=1.000
wave_1_init1=mx=.5;
wave_1_init2=my=.5;
wave_1_init3=md=1;
wave_1_per_point1=oldmd=md;
wave_1_per_point2=md=(md+int(rand(4)))%4;
wave_1_per_point3=md=if(equal(md,oldmd),(md+1)%4,md);
wave_1_per_point4=
wave_1_per_point5=mx=mx+(equal(md,0)*.002*bass);
wave_1_per_point6=mx=mx-(equal(md,1)*.002*bass);
wave_1_per_point7=my=my+(equal(md,2)*.002*treb);
wave_1_per_point8=my=my-(equal(md,3)*.002*treb);
wave_1_per_point9=
wave_1_per_point10=mx=if(above(mx,.9),.5,mx);
wave_1_per_point11=mx=if(below(mx,.1),.5,mx);
wave_1_per_point12=my=if(above(my,.9),.5,my);
wave_1_per_point13=my=if(below(my,.1),.5,my);
wave_1_per_point14=
wave_1_per_point15=x=mx;
wave_1_per_point16=y=my;
wave_1_per_point17=a=bass*.1;
wave_1_per_point18=
wave_1_per_point19=g=treb*.5;
wavecode_2_enabled=1
wavecode_2_samples=512
wavecode_2_sep=0
wavecode_2_bSpectrum=0
wavecode_2_bUseDots=1
wavecode_2_bDrawThick=1
wavecode_2_bAdditive=1
wavecode_2_scaling=1.00000
wavecode_2_smoothing=0.50000
wavecode_2_r=1.000
wavecode_2_g=1.000
wavecode_2_b=1.000
wavecode_2_a=1.000
wave_2_init1=mx=.5;
wave_2_init2=my=.5;
wave_2_init3=md=2;
wave_2_per_point1=oldmd=md;
wave_2_per_point2=md=(md+int(rand(4)))%4;
wave_2_per_point3=md=if(equal(md,oldmd),(md+1)%4,md);
wave_2_per_point4=
wave_2_per_point5=mx=mx+(equal(md,0)*.002*bass);
wave_2_per_point6=mx=mx-(equal(md,1)*.002*bass);
wave_2_per_point7=my=my+(equal(md,2)*.002*treb);
wave_2_per_point8=my=my-(equal(md,3)*.002*treb);
wave_2_per_point9=
wave_2_per_point10=mx=if(above(mx,.9),.5,mx);
wave_2_per_point11=mx=if(below(mx,.1),.5,mx);
wave_2_per_point12=my=if(above(my,.9),.5,my);
wave_2_per_point13=my=if(below(my,.1),.5,my);
wave_2_per_point14=
wave_2_per_point15=x=mx;
wave_2_per_point16=y=my;
wave_2_per_point17=a=bass*.1;
wavecode_3_enabled=1
wavecode_3_samples=512
wavecode_3_sep=0
wavecode_3_bSpectrum=0
wavecode_3_bUseDots=1
wavecode_3_bDrawThick=1
wavecode_3_bAdditive=1
wavecode_3_scaling=1.00000
wavecode_3_smoothing=0.50000
wavecode_3_r=1.000
wavecode_3_g=1.000
wavecode_3_b=1.000
wavecode_3_a=1.000
wave_3_init1=mx=.5;
wave_3_init2=my=.4;
wave_3_init3=md=3;
wave_3_per_point1=oldmd=md;
wave_3_per_point2=md=(md+int(rand(4)))%4;
wave_3_per_point3=md=if(equal(md,oldmd),(md+1)%4,md);
wave_3_per_point4=
wave_3_per_point5=mx=mx+(equal(md,0)*.002*bass);
wave_3_per_point6=mx=mx-(equal(md,1)*.002*bass);
wave_3_per_point7=my=my+(equal(md,2)*.002*treb);
wave_3_per_point8=my=my-(equal(md,3)*.002*treb);
wave_3_per_point9=
wave_3_per_point10=mx=if(above(mx,.9),.5,mx);
wave_3_per_point11=mx=if(below(mx,.1),.5,mx);
wave_3_per_point12=my=if(above(my,.9),.5,my);
wave_3_per_point13=my=if(below(my,.1),.5,my);
wave_3_per_point14=
wave_3_per_point15=x=mx;
wave_3_per_point16=y=my;
wave_3_per_point17=a=bass*.1;
shapecode_0_enabled=1
shapecode_0_sides=12
shapecode_0_additive=0
shapecode_0_thickOutline=0
shapecode_0_textured=0
shapecode_0_num_inst=92
shapecode_0_x=0.800
shapecode_0_y=0.500
shapecode_0_rad=0.02705
shapecode_0_ang=1.57080
shapecode_0_tex_ang=1.25664
shapecode_0_tex_zoom=3.07268
shapecode_0_r=1.000
shapecode_0_g=1.000
shapecode_0_b=1.000
shapecode_0_a=1.000
shapecode_0_r2=0.000
shapecode_0_g2=0.000
shapecode_0_b2=0.000
shapecode_0_a2=0.000
shapecode_0_border_r=1.000
shapecode_0_border_g=0.000
shapecode_0_border_b=0.000
shapecode_0_border_a=0.000
shape_0_per_frame1=t1 = time - int (time);
shape_0_per_frame2=sample = instance/num_inst;
shape_0_per_frame3=t_abs = sample*3;
shape_0_per_frame4=t_rel = sample-time/5;
shape_0_per_frame5=
shape_0_per_frame6=ampl = 2*t_abs/2 ;
shape_0_per_frame7=
shape_0_per_frame8=k1=sin(time/13);
shape_0_per_frame9=k2=sin(time/12);
shape_0_per_frame10=ox = ampl*sin (t_abs*(31+5*k1)) + sin(time/25)*(1-t_abs)*0.4  ;
shape_0_per_frame11=oy = ampl*cos (t_abs*(31+5*k2));
shape_0_per_frame12=oz = -1  ;
shape_0_per_frame13=
shape_0_per_frame14=
shape_0_per_frame15=r = sqr(sin(t_rel*3.4));
shape_0_per_frame16=g = sqr(sin(t_rel));
shape_0_per_frame17=b = sqr (cos(t_rel*1.8));
shape_0_per_frame18=
shape_0_per_frame19=//a=(0.1*(sin(t_abs*3)) + 0.6*q3*below (abs(1-t_abs-t1 ),0.3))*a;
shape_0_per_frame20=
shape_0_per_frame21=xang = time/9.5;
shape_0_per_frame22=yang = 0*time/7;
shape_0_per_frame23=zang = -time/22;
shape_0_per_frame24=fov = 0.5;
shape_0_per_frame25=
shape_0_per_frame26=
shape_0_per_frame27=// Rotation um x,y,z
shape_0_per_frame28=
shape_0_per_frame29=mx = ox*cos(zang) - oy*sin(zang);
shape_0_per_frame30=my = ox*sin(zang) + oy*cos(zang);
shape_0_per_frame31=
shape_0_per_frame32=ox = mx;
shape_0_per_frame33=oy = my;
shape_0_per_frame34=mx = ox*cos(yang) + oz*sin(yang);
shape_0_per_frame35=mz = - ox*sin(yang) + oz*cos(yang);
shape_0_per_frame36=ox = mx;
shape_0_per_frame37=oz = mz;
shape_0_per_frame38=my = oy*cos(xang) - oz*sin(xang);
shape_0_per_frame39=mz = oy*sin(xang) + oz*cos(xang);
shape_0_per_frame40=oy = my;
shape_0_per_frame41=oz = mz;
shape_0_per_frame42=
shape_0_per_frame43=oz = oz - 6;
shape_0_per_frame44=x = ox*fov/oz +0.5;
shape_0_per_frame45=//x = (x-.5)*0.75 + 0.5;
shape_0_per_frame46=y = oy*fov/oz + 0.5;
shape_0_per_frame47=
shape_0_per_frame48=a=1/mz*.5;
shape_0_per_frame49=//a2=1/mz*.5;
shape_0_per_frame50=//border_a=1/mz*.5;
shape_0_per_frame51=rad=1/mz*.005;
shapecode_1_enabled=1
shapecode_1_sides=3
shapecode_1_additive=0
shapecode_1_thickOutline=1
shapecode_1_textured=1
shapecode_1_num_inst=311
shapecode_1_x=0.500
shapecode_1_y=0.500
shapecode_1_rad=0.01000
shapecode_1_ang=0.00000
shapecode_1_tex_ang=0.62832
shapecode_1_tex_zoom=1.00000
shapecode_1_r=0.000
shapecode_1_g=0.000
shapecode_1_b=0.000
shapecode_1_a=1.000
shapecode_1_r2=0.000
shapecode_1_g2=0.000
shapecode_1_b2=0.000
shapecode_1_a2=0.000
shapecode_1_border_r=0.000
shapecode_1_border_g=0.000
shapecode_1_border_b=0.000
shapecode_1_border_a=0.000
shape_1_per_frame1=ma=ma+(above(bass,1)*3.1415*.01*bass);
shape_1_per_frame2=ma=ma-(above(treb,1)*3.1415*.01*treb);
shape_1_per_frame3=
shape_1_per_frame4=mx=mx+(.0002*cos(ma));
shape_1_per_frame5=my=my+(.0002*tan(ma));
shape_1_per_frame6=
shape_1_per_frame7=mx=if(above(mx,.9),(.9-mx),mx);
shape_1_per_frame8=my=if(above(my,.9),(.9-my),my);
shape_1_per_frame9=mx=if(below(mx,.1),(.9+mx),mx);
shape_1_per_frame10=my=if(below(my,.1),(.9+my),my);
shape_1_per_frame11=
shape_1_per_frame12=x=1-mx;
shape_1_per_frame13=y=1-my;
shape_1_per_frame14=
shape_1_per_frame15=ang=(sin(time*.35)+1)*3;
shape_1_per_frame16=//a=(above(bass+mid+treb,.8));
shape_1_per_frame17=pi23=4*asin(1)*.333333333;
shape_1_per_frame18=t1=bass+mid+treb;
shapecode_2_enabled=1
shapecode_2_sides=14
shapecode_2_additive=0
shapecode_2_thickOutline=0
shapecode_2_textured=0
shapecode_2_num_inst=512
shapecode_2_x=0.500
shapecode_2_y=0.500
shapecode_2_rad=0.10260
shapecode_2_ang=0.00000
shapecode_2_tex_ang=0.62832
shapecode_2_tex_zoom=1.00000
shapecode_2_r=1.000
shapecode_2_g=0.000
shapecode_2_b=0.000
shapecode_2_a=1.000
shapecode_2_r2=1.000
shapecode_2_g2=0.000
shapecode_2_b2=0.000
shapecode_2_a2=1.000
shapecode_2_border_r=1.000
shapecode_2_border_g=1.000
shapecode_2_border_b=1.000
shapecode_2_border_a=0.000
shape_2_per_frame1=ma=ma+(above(bass,1)*3.1415*.01*bass);
shape_2_per_frame2=ma=ma-(above(treb,1)*3.1415*.01*treb);
shape_2_per_frame3=
shape_2_per_frame4=mx=mx+(.0002*cos(ma));
shape_2_per_frame5=my=my+(.0002*sin(ma));
shape_2_per_frame6=
shape_2_per_frame7=mx=if(above(mx,.9),(.9-mx),mx);
shape_2_per_frame8=my=if(above(my,.9),(.9-my),my);
shape_2_per_frame9=mx=if(below(mx,.1),(.9+mx),mx);
shape_2_per_frame10=my=if(below(my,.1),(.9+my),my);
shape_2_per_frame11=
shape_2_per_frame12=x=mx;
shape_2_per_frame13=y=my;
shape_2_per_frame14=rad=(bass+treb)/100;
shape_2_per_frame15=a=(above(bass+mid+treb,.8));
shape_2_per_frame16=r=int(rand(100))/100;
shape_2_per_frame17=g=int(rand(100))/100;
shape_2_per_frame18=b=int(rand(100))/100;
shape_2_per_frame19=r2=int(rand(100))/100;
shape_2_per_frame20=g2=int(rand(100))/100;
shape_2_per_frame21=b2=int(rand(100))/100;
shape_2_per_frame22=r_border=int(rand(100))/100;
shape_2_per_frame23=g_border=int(rand(100))/100;
shape_2_per_frame24=b_border=int(rand(100))/100;
shapecode_3_enabled=1
shapecode_3_sides=100
shapecode_3_additive=0
shapecode_3_thickOutline=0
shapecode_3_textured=1
shapecode_3_num_inst=1
shapecode_3_x=0.500
shapecode_3_y=0.500
shapecode_3_rad=0.03333
shapecode_3_ang=0.00000
shapecode_3_tex_ang=0.00000
shapecode_3_tex_zoom=1.00000
shapecode_3_r=0.000
shapecode_3_g=0.000
shapecode_3_b=0.000
shapecode_3_a=1.000
shapecode_3_r2=0.000
shapecode_3_g2=0.000
shapecode_3_b2=0.000
shapecode_3_a2=0.000
shapecode_3_border_r=1.000
shapecode_3_border_g=1.000
shapecode_3_border_b=1.000
shapecode_3_border_a=0.000
shape_3_per_frame1=x = int(rand(100))*.01;
shape_3_per_frame2=y = int(rand(100))*.01;
shape_3_per_frame3=
shape_3_per_frame4=a = if(above(frame%1,0),0,1);
shape_3_per_frame5=
shape_3_per_frame6=vol=bass+mid+treb;
shape_3_per_frame7=rad = vol*.1;
per_frame_init_1=//The camera tries to follow the head of the firework and look into its direction
per_frame_init_2=//Camera speed and rotational speed is limited, camera lags behind
per_frame_init_3=//Camera angle is forced back into horizontal position
per_frame_init_4=
per_frame_init_5=//-------------- BEGIN MAIN PARAMS ---------------
per_frame_init_6=//SPEEDS
per_frame_init_7=gSpeed = .6;   //global speed, affects all other speeds incl. particle lifetimes
per_frame_init_8=hSpeed = .03;  //firework head speed
per_frame_init_9=pSpeed = .07;   //speed of primary particles
per_frame_init_10=tSpeed = hspeed*3.5;  //speed of tail particles
per_frame_init_11=
per_frame_init_12=//CAMERA
per_frame_init_13=CamDist  = .02; //distance camera tries to stay behind firework 
per_frame_init_14=CamSpeed = .35;  //camera follower speed
per_frame_init_15=CamLock = 8;    //how fast does camera angle lock on firework
per_frame_init_16=HLock = .1;     //force camera angle back into horizontal view
per_frame_init_17=
per_frame_init_18=//OTHER PARAMS
per_frame_init_19=sharp = 30;    //sharpness of bass/treb triggered head direction changes
per_frame_init_20=g0 = .02;      //gravitation
per_frame_init_21=cw = 50;       //air drag
per_frame_init_22=
per_frame_init_23=//---------- END MAIN PARAMS -----------------
per_frame_init_24=
per_frame_init_25=n = 0; loop (200000,gmegabuf(n) = 0; n+=1);
per_frame_init_26=fac = .4; reg19 = fac;
per_frame_init_27=
per_frame_init_28=//SPARKS
per_frame_init_29=obj_num = 800; reg00 = obj_num;
per_frame_init_30=obj_size = 16; reg01 = obj_size;
per_frame_init_31=max_age = 3.8; reg02 = max_age;
per_frame_init_32=head_ptr = 0; 
per_frame_init_33=free = 0;
per_frame_init_34=
per_frame_init_35=//SPARKS2
per_frame_init_36=num2 = 2048; reg20 = num2;
per_frame_init_37=free2 = 0;
per_frame_init_38=ptr2 = 0;
per_frame_init_39=mage2 = 1.8; reg22 = mage2;
per_frame_init_40=base2 = 100000;
per_frame_init_41=
per_frame_init_42=//TAIL
per_frame_init_43=t_num = 800; reg10 =t_num;
per_frame_init_44=t_age = 1; reg12 = t_age;
per_frame_init_45=tbase = obj_num*obj_size; reg13 = tbase;
per_frame_init_46=t_ptr = 0; 
per_frame_init_47=t_free = 0;
per_frame_init_48=
per_frame_init_49=
per_frame_init_50=x0 = (rand(10)-5)*.03; y0 = (rand(10)-5)*.03; z0 = (rand(10)-5)*.03;;
per_frame_init_51=xcam = 0; ycam = .0; zcam = -0;
per_frame_init_52=//Obj Structure - Index
per_frame_init_53=//0..2: x,y,z  3..5: vx,vy,vz  6..8: fx,fy,fz
per_frame_init_54=//9..11: rgb     12: age         13: size;
per_frame_init_55=
per_frame_init_56=
per_frame_init_57=//camera coordinate system
per_frame_init_58=  c1 = cos(0); c2 = cos(0); c3 = cos(0); 
per_frame_init_59=  s1 = sin(0); s2 = sin(0); s3 = sin(0);
per_frame_init_60=
per_frame_init_61=  reg30 = c2*c1;            reg31 = c2*s1;            reg32 = -s2;
per_frame_init_62=  reg33 = s3*s2*c1 - c3*s1; reg34 = s3*s2*s1 + c3*c1; reg35 = s3*c2;
per_frame_init_63=  reg36 = c3*s2*c1 + s3*s1; reg37 = c3*s2*s1 - s3*c1; reg38 = c3*c2;
per_frame_init_64=
per_frame_init_65=
per_frame_init_66=//head coordinate system
per_frame_init_67=  reg50 = c2*c1;            reg51 = c2*s1;            reg52 = -s2;
per_frame_init_68=  reg53 = s3*s2*c1 - c3*s1; reg54 = s3*s2*s1 + c3*c1; reg55 = s3*c2;
per_frame_init_69=  reg56 = c3*s2*c1 + s3*s1; reg57 = c3*s2*s1 - s3*c1; reg58 = c3*c2;
per_frame_init_70=
per_frame_init_71=tmp = rand(12);
per_frame_init_72=colr = .5+.5*sin(tmp); colg = .5 + .5*sin(tmp+2); colb = .5+.5*sin(tmp+4);
per_frame_init_73=posx = rand(1000)/100; posz = rand(1000)/100;
per_frame_init_74=
per_frame_init_75=n1= rand(10)/20; n2 = rand(10)/20; n3 = rand(10)/20; n4 = rand(10)/20;
per_frame_init_76=i1= rand(10)/20; i2 = rand(10)/20; i3 = rand(10)/20; i4 = rand(10)/20;
per_frame_init_77=
per_frame_init_78=index2 = int(rand(32));
per_frame_init_79=//-----------------------------------------
per_frame_1=chng=sin(time*.5);
per_frame_2=cthr=.9999;
per_frame_3=mq21=if(above(chng,cthr),rand(3),mq21);
per_frame_4=mq22=if(above(chng,cthr),rand(3),mq22);
per_frame_5=mq23=if(above(chng,cthr),rand(3),mq23);
per_frame_6=mq24=if(above(chng,cthr),rand(2),mq24);
per_frame_7=mq25=if(above(chng,cthr),rand(2),mq25);
per_frame_8=mq26=if(above(chng,cthr),rand(2),mq26);
per_frame_9=mq27=if(above(chng,cthr),rand(1),mq27);
per_frame_10=mq28=if(above(chng,cthr),rand(1),mq28);
per_frame_11=mq29=if(above(chng,cthr),rand(1)*.3,mq29);
per_frame_12=mq31=if(above(chng,cthr),rand(1)*.3,mq31);
per_frame_13=monitor=chng;
per_frame_14=q21=mq21;q22=mq22;q23=mq23;q24=mq24;q25=mq25;q26=mq26;
per_frame_15=q27=mq27;q28=mq28;q29=mq29;q31=mq31;
per_frame_16=
per_frame_17=monitor=mq1;
per_frame_18=vol=bass+treb+mid;
per_frame_19=atime=atime+vol;
per_frame_20=q11=.4+sin(atime*.006        )*.4;
per_frame_21=q12=.4+cos(atime*.00613828348)*.4;
per_frame_22=q13=.4+sin(atime*.00598593455)*.4;
per_frame_23=monitor=q13;
per_frame_24=q4=sin(atime*.03);
per_frame_25=q5=cos(atime*.030383824);
per_frame_26=q6=tan(atime*.029384834);
per_frame_27=
per_frame_28=dt = gSpeed/fps; dt2 = dt ; 
per_frame_29=dec_s = 1-.015*30/fps; dec_m = pow(.95, 30/fps); dec_f = pow(.85, 30/fps);
per_frame_30=vol_att = (bass + mid + treb)/3;
per_frame_31=avg = avg*dec_s + (1-dec_s)*vol_att*(1.5-.2/cal);
per_frame_32=
per_frame_33=is_beat = above(vol_att, 1.25*peak) * above (time, t0+.3);
per_frame_34=t0 = if(is_beat,time,t0);
per_frame_35=peak = peak*dec_m  + (1-dec_m)*vol_att;
per_frame_36=index = (index + is_beat) %16;
per_frame_37=index2 = (index2 + is_beat*bnot(index))%16;
per_frame_38=
per_frame_39=//HEAD MOVEMENT x0,y0,z0 based on z-move in HEAD Coords
per_frame_40=right = pow(bass_att-avg,1) * (bass_att > avg) *sharp*n1*sin(time*3)/cal; 
per_frame_41=up =  pow(treb_att-avg,1) * (treb_att > avg) * sharp*n2/cal; 
per_frame_42=
per_frame_43=cal = max(.2,cal*dec_s + (1-dec_s)*sqrt(up*up+right*right)/4);
per_frame_44=
per_frame_45=if ((index%8==0)*is_beat,
per_frame_46=  n1 = rand(100)/100-.5; n2 = rand(100)/100-.5; n3 = rand(100)/100-.5; n4 = pow(rand(100)/70,2)+.05;
per_frame_47=  i1 = 1+int(rand(8)); i2 = 1+int(rand(8)); i3 = 1+int(rand(8)); ,0);
per_frame_48=  
per_frame_49=sp0 = (.5+sqrt(vol_att*4))*hSpeed;
per_frame_50=dec = if(sp0 > speed,.5, dec_m); //checken
per_frame_51=speed =  speed*dec + (1-dec)*sp0;;
per_frame_52=
per_frame_53=//HEAD COORD SYS
per_frame_54=c1 = cos(up*dt); c2 = cos(right*dt); c3 = 1; 
per_frame_55=s1 = sin(up*dt); s2 = sin(right*dt); s3 = 0;
per_frame_56=reg40 = c2*c3;            reg41 = c2*s3;            reg42 = -s2;
per_frame_57=reg43 = s1*s2*c3 - c1*s3; reg44 = s1*s2*s3 + c1*c3; reg45 = s1*c2;
per_frame_58=reg46 = c1*s2*c3 + s1*s3; reg47 = c1*s2*s3 - s1*c3; reg48 = c1*c2;
per_frame_59=
per_frame_60=q20 = reg40*reg50 + reg41*reg53 + reg42*reg56;
per_frame_61=q21 = reg40*reg51 + reg41*reg54 + reg42*reg57;
per_frame_62=q22 = reg40*reg52 + reg41*reg55 + reg42*reg58;
per_frame_63=q23 = reg43*reg50 + reg44*reg53 + reg45*reg56;
per_frame_64=q24 = reg43*reg51 + reg44*reg54 + reg45*reg57;
per_frame_65=q25 = reg43*reg52 + reg44*reg55 + reg45*reg58;
per_frame_66=q26 = reg46*reg50 + reg47*reg53 + reg48*reg56;
per_frame_67=q27 = reg46*reg51 + reg47*reg54 + reg48*reg57;
per_frame_68=q28 = reg46*reg52 + reg47*reg55 + reg48*reg58;
per_frame_69=
per_frame_70=reg50 = q20; reg51 = q21; reg52 = q22;
per_frame_71=reg53 = q23; reg54 = q24; reg55 = q25;
per_frame_72=reg56 = q26; reg57 = q27; reg58 = q28;
per_frame_73=vx0 = reg56*speed;
per_frame_74=vy0 = reg57*speed;
per_frame_75=vz0 = reg58*speed;
per_frame_76=x0 = x0 + vx0*dt ;          reg04 = x0; 
per_frame_77=y0 = max(-.5,min(0.5,y0 + vy0*dt)) ; reg05 = y0; 
per_frame_78=z0 = z0 + vz0*dt ;          reg06 = z0; 
per_frame_79=
per_frame_80=style = n1 > 0;
per_frame_81=circles = (index2>=12); 
per_frame_82=//SPARK QUEUE - insert new objects
per_frame_83=if (style ==0, new = max(0,min(26*(mid>1.2),free)),0);
per_frame_84=if (style ==1, new = max(0,min(250*vol_att*(vol_att*200 > 100+obj_num-free),free*.8)),0);
per_frame_85=if (new < 16, new = 0, 0);
per_frame_86=n = 0; m = new; 
per_frame_87=dec = if (new > 0,0.3,dec_f); 
per_frame_88=new_ = new_*dec + (1-dec)*new;
per_frame_89=q29 = new_;
per_frame_90=if (new > 0,
per_frame_91=  if (index%5==0,
per_frame_92=    csum = sqrt(pow(bass_att,2) + pow(mid_att,2) + pow(treb_att,2)) ;
per_frame_93=    colr = pow(bass_att,1)/csum;
per_frame_94=    colb = pow(mid_att,1)/csum;
per_frame_95=    colg = pow(treb_att,1)/csum;,0);
per_frame_96=  while (exec2 (
per_frame_97=    self = (head_ptr%obj_num)*obj_size;
per_frame_98=    if (gmegabuf(self+12) <= 0,
per_frame_99=      // for rad.sym use theta = 1.5, phi = 0..6
per_frame_100=      if (style==1,theta = 1.5 + 8*n3*sin(i2*6.28*n/new+time); phi = sin(i3*n/new*6.3)*6.3,
per_frame_101=                         theta = rand(12); phi = rand(12));
per_frame_102=      v0 = (1 + .1*(rand(100)/100-.5))*pSpeed * (1+4*n3*n2*cos(6.28*i1*n/new)); 
per_frame_103=      if (circles==0,
per_frame_104=        vx = sin(theta)*cos(phi)*v0;
per_frame_105=        vy = sin(theta)*sin(phi)*v0;
per_frame_106=        vz = cos(theta)*v0;,0);
per_frame_107=      vx1 = vx*reg50 + vy*reg53+ vz*reg56;
per_frame_108=      vy1 = vx*reg51 + vy*reg54+ vz*reg57;
per_frame_109=      vz1 = vx*reg52 + vy*reg55+ vz*reg58;
per_frame_110=      vx = vx1; vy = vy1; vz = vz1;
per_frame_111=      gmegabuf(self)   = x0;
per_frame_112=      gmegabuf(self+1) = y0;
per_frame_113=      gmegabuf(self+2) = z0;
per_frame_114=      gmegabuf(self+3) = vx+vx0;
per_frame_115=      gmegabuf(self+4) = vy+vy0;
per_frame_116=      gmegabuf(self+5) = vz+vz0;
per_frame_117=      gmegabuf(self+9) = colr;
per_frame_118=      gmegabuf(self+10) = colg;
per_frame_119=      gmegabuf(self+11) = colb;
per_frame_120=      gmegabuf(self+12) = dt2;
per_frame_121=      gmegabuf(self+13) = rand(100)/100+.5;//size
per_frame_122=      gmegabuf(self+14) = min(free2,vol_att* (n%8==0)) * (gmegabuf(self+13)>1);
per_frame_123=      n += 1; m -= 1;
per_frame_124=   ,0;);
per_frame_125=   head_ptr = (head_ptr+1)%obj_num;, m > 0))
per_frame_126=,0);
per_frame_127=
per_frame_128=//SPARK QUEUE - calc movement
per_frame_129=n = 0; free = 0;       
per_frame_130=att0 = att0*dec_f + (1-dec_f)*-.05 * n1*n2*n3; 
per_frame_131=if (att0>0, att0*=.5,0);
per_frame_132=att1 = -0.0005 * (index2%3==0);
per_frame_133=
per_frame_134=loop (obj_num,
per_frame_135=  self = n*obj_size;
per_frame_136=  age = gmegabuf(self+12);
per_frame_137=  if (age > 0, 
per_frame_138=    if (age > max_age, age = 0, age += dt2 + 2*dt2*(style==0)*(index2%2));
per_frame_139=      new = min (free2, gmegabuf(self+14));
per_frame_140=      if (new > 0,
per_frame_141=        while (exec2(  
per_frame_142=          self2 = (ptr2%num2)*obj_size+base2;
per_frame_143=          if (gmegabuf(self2+12) <= 0,
per_frame_144=            gmegabuf(self2)   = gmegabuf(self);
per_frame_145=            gmegabuf(self2+1) = gmegabuf(self+1);
per_frame_146=            gmegabuf(self2+2) = gmegabuf(self+2);
per_frame_147=            gmegabuf(self2+3) = gmegabuf(self+3)+pSpeed*(rand(100)/100-.5)*n4;
per_frame_148=            gmegabuf(self2+4) = gmegabuf(self+4)+pSpeed*(rand(100)/100-.5)*n4;
per_frame_149=            gmegabuf(self2+5) = gmegabuf(self+5)+pSpeed*(rand(100)/100-.5)*n4;
per_frame_150=            gmegabuf(self2+9) = pow(gmegabuf(self+9),1.5);
per_frame_151=            gmegabuf(self2+10) =pow(gmegabuf(self+10),1.5);
per_frame_152=            gmegabuf(self2+11) =pow(gmegabuf(self+11),1.5);
per_frame_153=            gmegabuf(self2+12) = dt2;
per_frame_154=            gmegabuf(self2+13) = rand(100)/200+.5;//size
per_frame_155=            new -=1; free2 -= 1;
per_frame_156=          ,0;);
per_frame_157=        ptr2 = (ptr2 + 1)%num2;, new > 0));
per_frame_158=      ,gmegabuf(self+14) = 0);      //#nochmal pruefen !
per_frame_159=      v2 = pow(gmegabuf(self+3),2)+pow(gmegabuf(self+4),2)+pow(gmegabuf(self+5),2);
per_frame_160=      brake = max(0.5,1-dt*cw*v2);
per_frame_161=      gmegabuf(self)   += gmegabuf(self+3)*dt;
per_frame_162=      gmegabuf(self+1) += gmegabuf(self+4)*dt;
per_frame_163=      gmegabuf(self+2) += gmegabuf(self+5)*dt;
per_frame_164=      gmegabuf(self+3) *= brake;
per_frame_165=      gmegabuf(self+4) *= brake;
per_frame_166=      gmegabuf(self+5) *= brake;
per_frame_167=    //head attraction
per_frame_168=      dist = (pow(gmegabuf(self)-x0,2) + pow(gmegabuf(self+1)-y0,2) + pow(gmegabuf(self+2)-z0,2));
per_frame_169=      ax = (att0*(gmegabuf(self)-x0)/dist);
per_frame_170=      ay = (att0*(gmegabuf(self+1)-y0)/dist);
per_frame_171=      az = (att0*(gmegabuf(self+2)-z0)/dist);
per_frame_172=      gmegabuf(self+3) += ax*dt;
per_frame_173=      gmegabuf(self+4) += ay*dt;
per_frame_174=      gmegabuf(self+5) += az*dt;
per_frame_175=
per_frame_176=    //cam induced turbulence
per_frame_177=      ax = atan(att1/(gmegabuf(self)-xcam));
per_frame_178=      ay = atan(att1/(gmegabuf(self+1)-ycam));
per_frame_179=      az = atan(att1/(gmegabuf(self+2)-zcam));
per_frame_180=      gmegabuf(self+3) += ax*dt;
per_frame_181=      gmegabuf(self+4) += ay*dt;
per_frame_182=      gmegabuf(self+5) += az*dt;
per_frame_183=
per_frame_184=    //Gravitation
per_frame_185=      gmegabuf(self+4) += g0*dt * gmegabuf(self+13); 
per_frame_186=  ,free += 1); //otherwise
per_frame_187=  gmegabuf(self+12) = age;
per_frame_188=  n += 1;);
per_frame_189=
per_frame_190=//2nd SPARK QUEUE - movement
per_frame_191=n = 0; free2 = 0;
per_frame_192=loop (num2,
per_frame_193=  self = n*obj_size + base2;
per_frame_194=  age = gmegabuf(self+12);
per_frame_195=  if (age > 0, 
per_frame_196=    if (age > mage2, age = 0, age +=dt2);
per_frame_197=    v2 = pow(gmegabuf(self+3),2)+pow(gmegabuf(self+4),2)+pow(gmegabuf(self+5),2);
per_frame_198=    brake = max(0.1,1-200*dt*cw*v2);
per_frame_199=    gmegabuf(self)   += gmegabuf(self+3)*dt;
per_frame_200=    gmegabuf(self+1) += gmegabuf(self+4)*dt;
per_frame_201=    gmegabuf(self+2) += gmegabuf(self+5)*dt;
per_frame_202=    gmegabuf(self+3) *= brake;
per_frame_203=    gmegabuf(self+4) *= brake;
per_frame_204=    gmegabuf(self+5) *= brake;
per_frame_205=    gmegabuf(self+4) += g0*dt; //Gravitation
per_frame_206=  ,free2 += 1);
per_frame_207=  gmegabuf(self+12) = age;
per_frame_208=  n += 1;);
per_frame_209=
per_frame_210=//TAIL
per_frame_211=new = int(t_free/8*vol_att); //# vol ?
per_frame_212=new = min (new, t_free);
per_frame_213=if (new > 0,
per_frame_214=  while (exec2 (
per_frame_215=    self = (t_ptr%t_num)*obj_size+tbase;
per_frame_216=    if (gmegabuf(self+12) <= 0,
per_frame_217=
per_frame_218=      theta = .006*rand(12); phi = rand(12); ;
per_frame_219=      v0 = (1 + .3*(rand(100)/100-.5))*-tSpeed; 
per_frame_220=      vx = sin(theta)*cos(phi)*v0;
per_frame_221=      vy = sin(theta)*sin(phi)*v0;
per_frame_222=      vz = cos(theta)*v0;
per_frame_223=      vx1 = vx*reg50 + vy*reg53+ vz*reg56;
per_frame_224=      vy1 = vx*reg51 + vy*reg54+ vz*reg57;
per_frame_225=      vz1 = vx*reg52 + vy*reg55+ vz*reg58;
per_frame_226=      vx = vx1; vy = vy1; vz = vz1; ran = -v0*dt*rand(100)/100;
per_frame_227=      gmegabuf(self)   = x0 + ran*reg56;
per_frame_228=      gmegabuf(self+1) = y0 + ran*reg57;
per_frame_229=      gmegabuf(self+2) = z0 + ran*reg58;
per_frame_230=      gmegabuf(self+3) = vx+vx0;
per_frame_231=      gmegabuf(self+4) = vy+vy0;
per_frame_232=      gmegabuf(self+5) = vz+vz0;
per_frame_233=      gmegabuf(self+12) = dt2;
per_frame_234=      gmegabuf(self+13) = .5 + rand(100)/150;//size
per_frame_235=      new -= 1;
per_frame_236=   ,0;);
per_frame_237=  t_ptr = (t_ptr+1)%t_num;, new > 0))
per_frame_238=,0);
per_frame_239=reg14 = t_ptr;
per_frame_240=
per_frame_241=//TAIL QUEUE - calc movement
per_frame_242=n = 0; t_free = 0;
per_frame_243=loop (t_num,
per_frame_244=  self = n*obj_size + tbase;
per_frame_245=  age = gmegabuf(self+12);
per_frame_246=  if (age > 0, 
per_frame_247=    if (age > t_age, age = 0, age +=dt2);
per_frame_248=    v2 = pow(gmegabuf(self+3),2)+pow(gmegabuf(self+4),2)+pow(gmegabuf(self+5),2);
per_frame_249=    brake = max(0.5,1-dt*cw*v2); 
per_frame_250=    gmegabuf(self)   += gmegabuf(self+3)*dt;
per_frame_251=    gmegabuf(self+1) += gmegabuf(self+4)*dt;
per_frame_252=    gmegabuf(self+2) += gmegabuf(self+5)*dt;
per_frame_253=    gmegabuf(self+3) *= brake;
per_frame_254=    gmegabuf(self+4) *= brake;
per_frame_255=    gmegabuf(self+5) *= brake;
per_frame_256=    gmegabuf(self+4) += g0*dt; //Gravitation
per_frame_257=  ,t_free += 1); //otherwise
per_frame_258=  gmegabuf(self+12) = age;
per_frame_259=  n += 1;
per_frame_260=);
per_frame_261=
per_frame_262=//SPARK and HEAD COORD for use in comp shader
per_frame_263=
per_frame_264=ranpt = if (rand(10)/7<vol_att,((head_ptr+obj_num-int(rand(obj_num/4)))%obj_num)*obj_size, ranpt);
per_frame_265=point = ranpt;
per_frame_266=x0_ = gmegabuf(point)-reg07; y0_ = gmegabuf(point+1)-reg08; z0_ = gmegabuf(point+2)-reg09;
per_frame_267=x1 = x0_*reg30 + y0_*reg31 + z0_*reg32;
per_frame_268=y1 = x0_*reg33 + y0_*reg34 + z0_*reg35;
per_frame_269=z1 = x0_*reg36 + y0_*reg37 + z0_*reg38;
per_frame_270=q11 = .5 + x1/z1*fac;
per_frame_271=q12 = .5 + y1/z1*fac;
per_frame_272=age = gmegabuf(point+12);
per_frame_273=q13 = if (z1>0,1/z1,0) * (age > 0)*(1-age/max_age) * sqrt(treb)*.0008;
per_frame_274=q13 = max(0,q13);
per_frame_275=
per_frame_276=x0_ = x0-reg07; y0_ = y0-reg08; z0_ = z0-reg09;
per_frame_277=x1 = x0_*reg30 + y0_*reg31 + z0_*reg32;
per_frame_278=y1 = x0_*reg33 + y0_*reg34 + z0_*reg35;
per_frame_279=z1 = x0_*reg36 + y0_*reg37 + z0_*reg38;
per_frame_280=q14 = .5 + x1/z1*fac;
per_frame_281=q15 = .5 + y1/z1*fac;
per_frame_282=q16 = if (z1>0, 1/z1,0) * q29/4+20 + 20*vol_att;
per_frame_283=q16 = max(0,q16/4);
per_frame_284=
per_frame_285=
per_frame_286=//FOLLOW WITH CAMERA
per_frame_287=dxcam = (x0-xcam)*dt*CamSpeed; dycam = (y0-ycam-.0)*dt*CamSpeed; dzcam = (z0-zcam-CamDist)*dt*CamSpeed; 
per_frame_288=xcam = xcam +dxcam; ycam = ycam +dycam; zcam = zcam +dzcam; 
per_frame_289=reg07 = xcam; reg08 = ycam; reg09 = zcam;
per_frame_290=
per_frame_291=//ROTATE VIEPOINT
per_frame_292=x1 = (x0-XCam)*reg30 + (y0-yCam) *reg31 + (z0-zCam)*reg32;
per_frame_293=y1 = (x0-XCam)*reg33 + (y0-YCam) *reg34 + (z0-zCam)*reg35;
per_frame_294=dist = sqrt(pow(x0-xcam,2) + pow(y0-ycam,2) + pow(z0-zcam,2));
per_frame_295=k1 = dt/max(dist,.04)*CamLock;
per_frame_296=v1 =  -k1*(y1); v2 = k1*(x1); v3 = -reg31*k1*HLock;
per_frame_297=
per_frame_298=c1 = cos(v1); c2 = cos(v2); c3 = cos(v3); 
per_frame_299=s1 = sin(v1); s2 = sin(v2); s3 = sin(v3);
per_frame_300=reg40 = c2*c3; reg41 = c2*s3; reg42 = -s2;
per_frame_301=reg43 = s1*s2*c3 - c1*s3; reg44 = s1*s2*s3 + c1*c3; reg45 = s1*c2;
per_frame_302=reg46 = c1*s2*c3 + s1*s3; reg47 = c1*s2*s3 - s1*c3; reg48 = c1*c2;
per_frame_303=
per_frame_304=q20 = reg40*reg30 + reg41*reg33 + reg42*reg36;
per_frame_305=q21 = reg40*reg31 + reg41*reg34 + reg42*reg37;
per_frame_306=q22 = reg40*reg32 + reg41*reg35 + reg42*reg38;
per_frame_307=q23 = reg43*reg30 + reg44*reg33 + reg45*reg36;
per_frame_308=q24 = reg43*reg31 + reg44*reg34 + reg45*reg37;
per_frame_309=q25 = reg43*reg32 + reg44*reg35 + reg45*reg38;
per_frame_310=q26 = reg46*reg30 + reg47*reg33 + reg48*reg36;
per_frame_311=q27 = reg46*reg31 + reg47*reg34 + reg48*reg37;
per_frame_312=q28 = reg46*reg32 + reg47*reg35 + reg48*reg38;
per_frame_313=reg30 =q20; reg31 =q21; reg32 =q22; 
per_frame_314=reg33 =q23; reg34 =q24; reg35 =q25;
per_frame_315=reg36 =q26; reg37 =q27; reg38 =q28;
per_frame_316=
per_frame_317=//Fake altitude
per_frame_318=q10 = (1.3-ycam);
per_frame_319=
per_frame_320=//TEXTURE GND MOVEMENT
per_frame_321=posx += dxcam; posz += dzcam;
per_frame_322=q18 = posz*2; 
per_frame_323=q19 = posx*2;
per_frame_324=
per_frame_325=//CLOUDS MOVEMENT
per_frame_326=crot = crot + v3;
per_frame_327=cfwd = cfwd + (dxcam*reg36 + dycam*reg37 + dzcam*reg38);
per_frame_328=
per_frame_329=q1 = cos(crot);q2 = sin(crot);
per_frame_330=cmovx += -v1 * q1 + v2 * q2;
per_frame_331=cmovy +=  v1 * q2 + v2 * q1;
per_frame_332=q5 = cmovx*.1;
per_frame_333=q6 = cmovy*.1;
per_frame_334=q7 = cfwd*8;
per_frame_335=q8 = v3;
per_frame_336=q9 = (dxcam*reg36 + dycam*reg37 + dzcam*reg38);
per_frame_337=
per_frame_338=q30 = dt2;
per_frame_339=q31 = aspectx;
per_frame_340=q32 = aspecty;
per_frame_341=
per_frame_342=q17 = int(colr*10) + int(colg*10)*10 + int(colb*10)*100;
per_frame_343=gg = .5;
per_frame_344=dx = -v2*gg; dy = v1*gg;
per_frame_345=rot = q8;
per_frame_346=zoom = 1+(dxcam*reg36 + dycam*reg37 + dzcam*reg38);
per_frame_347=
per_frame_348=q3 = free;
per_frame_349=monitor = num2;
warp_1=`shader_body
warp_2=`{
warp_3=`    ret = tex2D( sampler_main, uv ).xyz;
warp_4=`
warp_5=`float3 ret7=ret;
warp_6=`if(frame%3==0)ret.z=.71-ret7.x;
warp_7=`    // ERROR DIFFUSION DITHER - looks great
warp_8=`    float2 dither_uv = uv_orig*texsize.xy*texsize_noise_lq.zw + rand_frame.xy;
warp_9=`    ret += (tex2D(sampler_noise_lq, dither_uv).xyz-0.5)/256.0*3;
warp_10=`if(frame%5==0)ret.x=.71-ret7.y;
warp_11=`
warp_12=`float4 noise9 = tex3D(sampler_noisevol_hq, 
warp_13=`                      ((uv.xyy*q27
warp_14=`                       )*texsize.xyy*texsize_noisevol_hq.zww
warp_15=`                      ).xyz*
warp_16=`                      float3(1,1,0)*0.05 + 
warp_17=`                      time*float3(0,0,1)*q29
warp_18=`                     );
warp_19=`if(ret.x> q21*q13         && ret.x<= q24*q11        )ret.y -= (noise9).x*.5; 
warp_20=`if(ret.y> q22*q11         && ret.y<= q25*q12        )ret.z -= (noise9).y*.5; 
warp_21=`if(ret.z> q23*q12         && ret.z<= q26*q13        )ret.x -= (noise9).z*.5; 
warp_22=`    ret = frac(ret - 0.005);
warp_23=`if(frame%7==0)ret.y=.71-ret7.z;
warp_24=`
warp_25=`}
warp_26=`
comp_1=`shader_body
comp_2=`{
comp_3=`//ret=tex2D(sampler_main,uv);
comp_4=`// ***** Flexis rotating caleidoscope code *****
comp_5=`float2 cntr = float2(q13,q14); float sin = q11; float cos = q12; float scale = q15;
comp_6=`float2 uv_r = (uv-cntr)*aspect.xy;
comp_7=`       uv_r = scale*float2( cos*uv_r.x - sin*uv_r.y, sin*uv_r.x + cos*uv_r.y); // rotation
comp_8=`       uv_r = cntr + uv_r*aspect.zw;
comp_9=`       uv_r = 1.0 - abs( frac( uv_r * 0.5 ) * 2.0 - 1.0 ); // mirror
comp_10=`sin = q17; cos = q18; scale = q16;
comp_11=`float2 uv_rr = (uv_r-cntr);
comp_12=`       uv_rr = scale*float2( cos*uv_rr.x - sin*uv_rr.y, sin*uv_rr.x + cos*uv_rr.y); // counter-rotation
comp_13=`       uv_rr = cntr + (uv_rr);
comp_14=`float t = q22;
comp_15=`float2 c = ((uv_rr-0.5));
comp_16=`float1 ang_hq = atan2(c.x,c.y);
comp_17=`float2 spiral = float2(ang_hq*q21*1.5,0.666*log(length(c))-ang_hq*q21+t);
comp_18=`spiral = 0.5 + (0.5 - abs( frac( spiral * 0.5 ) * 2.0 - 1.0 ))*float2(0.96,1.02); // mirror
comp_19=`ret = GetPixel(saturate(spiral));
comp_20=`
comp_21=`float3 ret7=ret;
comp_22=`if(frame%02==0)ret.x=.71-ret7.y;
comp_23=`
comp_24=`float4 noise9 = tex3D(sampler_noisevol_hq, 
comp_25=`                      ((uv_rr.xyy*q28
comp_26=`                       )*texsize.xyy*texsize_noisevol_hq.zww
comp_27=`                      ).xyz*
comp_28=`                      float3(1,1,0)*0.05 + 
comp_29=`                      time*float3(0,0,1)*q31
comp_30=`                     );
comp_31=`if(ret.x> q26*q13         && ret.x<= q23*q11        )ret.z -= (noise9).x*.5; 
comp_32=`if(ret.y> q25*q11         && ret.y<= q22*q12        )ret.x -= (noise9).y*.5; 
comp_33=`if(ret.z> q24*q12         && ret.z<= q21*q13        )ret.y -= (noise9).z*.5; 
comp_34=`
comp_35=`if(frame%11==0)ret.y=.71-ret7.z;
comp_36=`
comp_37=`ret=pow(GetBlur1(uv).xyz/treb_att,1-lum(saturate(ret.xyz)));
comp_38=`
comp_39=`if(frame%13==0)ret.z=.71-ret7.x;
comp_40=`
comp_41=`ret=pow(GetBlur2(uv).xyz/bass_att,1-lum(saturate(ret.xyz)));
comp_42=`ret=1-ret;
comp_43=`}
