MILKDROP_PRESET_VERSION=201
PSVERSION=3
PSVERSION_WARP=3
PSVERSION_COMP=3
[preset00]
fGammaAdj=1.980
fDecay=0.500
fVideoEchoZoom=0.952
fVideoEchoAlpha=0.500
nVideoEchoOrientation=3
nWaveMode=4
bAdditiveWaves=1
bWaveDots=0
bWaveThick=1
bModWaveAlphaByVolume=1
bMaximizeWaveColor=0
bTexWrap=1
bDarkenCenter=0
bRedBlueStereo=0
bBrighten=0
bDarken=1
bSolarize=0
bInvert=0
fWaveAlpha=0.001
fWaveScale=0.527
fWaveSmoothing=0.450
fWaveParam=0.000
fModWaveAlphaStart=0.000
fModWaveAlphaEnd=1.320
fWarpAnimSpeed=1.459
fWarpScale=2.007
fZoomExponent=1.00000
fShader=0.000
zoom=0.99990
rot=0.00000
cx=0.500
cy=0.500
dx=0.00000
dy=0.00000
warp=0.01000
sx=0.99990
sy=1.00000
wave_r=0.800
wave_g=0.490
wave_b=1.000
wave_x=0.500
wave_y=0.500
ob_size=0.015
ob_r=0.000
ob_g=0.000
ob_b=1.000
ob_a=0.000
ib_size=0.260
ib_r=0.250
ib_g=0.250
ib_b=0.250
ib_a=0.000
nMotionVectorsX=64.000
nMotionVectorsY=48.000
mv_dx=0.000
mv_dy=0.000
mv_l=1.850
mv_r=0.500
mv_g=0.500
mv_b=0.500
mv_a=0.000
b1n=0.000
b2n=0.000
b3n=0.000
b1x=1.000
b2x=1.000
b3x=1.000
b1ed=0.000
wavecode_0_enabled=0
wavecode_0_samples=75
wavecode_0_sep=20
wavecode_0_bSpectrum=0
wavecode_0_bUseDots=1
wavecode_0_bDrawThick=0
wavecode_0_bAdditive=1
wavecode_0_scaling=7.85800
wavecode_0_smoothing=0.10000
wavecode_0_r=1.000
wavecode_0_g=0.000
wavecode_0_b=0.000
wavecode_0_a=0.200
wavecode_1_enabled=0
wavecode_1_samples=512
wavecode_1_sep=0
wavecode_1_bSpectrum=0
wavecode_1_bUseDots=1
wavecode_1_bDrawThick=1
wavecode_1_bAdditive=0
wavecode_1_scaling=0.89152
wavecode_1_smoothing=0.82000
wavecode_1_r=1.000
wavecode_1_g=1.000
wavecode_1_b=1.000
wavecode_1_a=0.100
wavecode_2_enabled=0
wavecode_2_samples=512
wavecode_2_sep=0
wavecode_2_bSpectrum=0
wavecode_2_bUseDots=0
wavecode_2_bDrawThick=1
wavecode_2_bAdditive=0
wavecode_2_scaling=0.89152
wavecode_2_smoothing=0.82000
wavecode_2_r=0.000
wavecode_2_g=0.200
wavecode_2_b=0.000
wavecode_2_a=1.000
wavecode_3_enabled=0
wavecode_3_samples=512
wavecode_3_sep=0
wavecode_3_bSpectrum=1
wavecode_3_bUseDots=1
wavecode_3_bDrawThick=0
wavecode_3_bAdditive=0
wavecode_3_scaling=1.00000
wavecode_3_smoothing=0.50000
wavecode_3_r=1.000
wavecode_3_g=1.000
wavecode_3_b=1.000
wavecode_3_a=1.000
shapecode_0_enabled=0
shapecode_0_sides=33
shapecode_0_additive=1
shapecode_0_thickOutline=0
shapecode_0_textured=0
shapecode_0_num_inst=81
shapecode_0_x=0.500
shapecode_0_y=0.500
shapecode_0_rad=0.04896
shapecode_0_ang=0.00000
shapecode_0_tex_ang=1.00531
shapecode_0_tex_zoom=1.53117
shapecode_0_r=1.000
shapecode_0_g=1.000
shapecode_0_b=1.000
shapecode_0_a=0.000
shapecode_0_r2=0.000
shapecode_0_g2=0.000
shapecode_0_b2=0.000
shapecode_0_a2=0.000
shapecode_0_border_r=1.000
shapecode_0_border_g=1.000
shapecode_0_border_b=0.000
shapecode_0_border_a=0.000
shape_0_per_frame1=
shape_0_per_frame2=trel = time/8;
shape_0_per_frame3=k1 = instance/num_inst;
shape_0_per_frame4=k2 = k1 + trel - int(k1+trel);
shape_0_per_frame5=
shape_0_per_frame6=y0 = k2+.01 ;
shape_0_per_frame7=
shape_0_per_frame8=xwidth = .1*(cos(6*k1)+3); //breite
shape_0_per_frame9=xofs = .1*cos(k2*6+trel)*y0;
shape_0_per_frame10=x = .5 + .4*xwidth*(.2+y0)*sin(k1*1383*xwidth) + xofs;
shape_0_per_frame11=//xwidth in der letzten Klammer : Test
shape_0_per_frame12=
shape_0_per_frame13=y = y0;
shape_0_per_frame14=
shape_0_per_frame15=bright = 1-sqr(y0); 
shape_0_per_frame16=a = max(bright,0); a2 = 0;
shape_0_per_frame17=rad = .4*y0+.1 - .0*sin(k1*954);
shape_0_per_frame18=
shape_0_per_frame19=r = .0; g = 0; b = .0;
shape_0_per_frame20=r2 = 0; g2 = 0; b2= .48; //## rot mit ampl. mod !
shape_0_per_frame21=additive = 1; ///sonst andere farben im warp-s gestoert
shapecode_1_enabled=1
shapecode_1_sides=12
shapecode_1_additive=1
shapecode_1_thickOutline=0
shapecode_1_textured=0
shapecode_1_num_inst=571
shapecode_1_x=0.260
shapecode_1_y=0.200
shapecode_1_rad=0.39317
shapecode_1_ang=0.00000
shapecode_1_tex_ang=0.00000
shapecode_1_tex_zoom=0.93550
shapecode_1_r=1.000
shapecode_1_g=0.000
shapecode_1_b=0.000
shapecode_1_a=1.000
shapecode_1_r2=0.000
shapecode_1_g2=0.000
shapecode_1_b2=0.000
shapecode_1_a2=0.200
shapecode_1_border_r=1.000
shapecode_1_border_g=0.000
shapecode_1_border_b=0.000
shapecode_1_border_a=0.000
shape_1_per_frame1=mov1 = q1;
shape_1_per_frame2=RotMode = q3;
shape_1_per_frame3=burst = q10;
shape_1_per_frame4=copies = q14;
shape_1_per_frame5=copy = (instance%copies)/copies;
shape_1_per_frame6=k1 = int(instance/copies)*copies/num_inst;
shape_1_per_frame7=k1 = int(k1*burst)/burst+k1/burst;
shape_1_per_frame8=
shape_1_per_frame9=mov1 = mov1 + k1 -copy*q2;//dt
shape_1_per_frame10=mov1 = mov1 - int(mov1);
shape_1_per_frame11=
shape_1_per_frame12=RotMode = RotMode - copy*q4;
shape_1_per_frame13=rota = mov1 * RotMode*q5*2 ;
shape_1_per_frame14=mov1 = mov1*(1-RotMode) + RotMode*(.5+.025*k1);
shape_1_per_frame15=
shape_1_per_frame16=mov1 = pow(mov1,.9); //Schneller bei t=0;
shape_1_per_frame17=
shape_1_per_frame18=Tht = sin(k1*k1*123.2)*(.2 + RotMode*.0);
shape_1_per_frame19=Phi = k1*1613.3+rota;
shape_1_per_frame20=v0 = (1.0 + .3*cos(k1*13234.7))*q5;
shape_1_per_frame21=
shape_1_per_frame22=z0 = q18/q5; //proximity
shape_1_per_frame23=
shape_1_per_frame24=t0 = .4;
shape_1_per_frame25=spur = (mov1-t0) * above(mov1-t0,0)*q15 ;
shape_1_per_frame26=py = spur*sin(copy*6.28);
shape_1_per_frame27=px = spur*cos(copy*6.28);
shape_1_per_frame28=
shape_1_per_frame29=fov = z0*2; //kein vol hier, sonst y-skal daneben
shape_1_per_frame30=ox = (mov1-q19)*v0*sin(Tht) * cos(Phi); //### -.5 bis .5
shape_1_per_frame31=oy = mov1*v0*(1-mov1)*cos(2*Tht) -.25;
shape_1_per_frame32=oz = mov1*v0*sin(Tht)*sin(Phi); 
shape_1_per_frame33=
shape_1_per_frame34=ox = ox +  (k1-.5)*q17 +px; 
shape_1_per_frame35=oy = oy -py;
shape_1_per_frame36=oz = oz +py*3;
shape_1_per_frame37=
shape_1_per_frame38=//flim = below(((ox+oy+oz)*800)%32,q13-.1); //ctrl
shape_1_per_frame39=//flim = q13/(((ox+oy+oz)*600)%16+1); //ctrl
shape_1_per_frame40=rad = .025*z0/(oz+z0)*(1-mov1*.5);
shape_1_per_frame41=
shape_1_per_frame42=x = .5 + fov*ox/(oz+z0);
shape_1_per_frame43=y = .5 + fov*oy/(oz+z0);
shape_1_per_frame44=vis = above(mov1,q11)*below(mov1,q12)*above(oz,-z0);
shape_1_per_frame45=
shape_1_per_frame46=a = vis*.7/sqrt(copies)*(1+above(spur,0));
shape_1_per_frame47=a2 = 0.;
shape_1_per_frame48=g = flim;
shapecode_2_enabled=1
shapecode_2_sides=13
shapecode_2_additive=1
shapecode_2_thickOutline=0
shapecode_2_textured=0
shapecode_2_num_inst=212
shapecode_2_x=0.650
shapecode_2_y=0.380
shapecode_2_rad=1.26467
shapecode_2_ang=0.00000
shapecode_2_tex_ang=0.00000
shapecode_2_tex_zoom=0.73678
shapecode_2_r=1.000
shapecode_2_g=1.000
shapecode_2_b=0.000
shapecode_2_a=0.300
shapecode_2_r2=1.000
shapecode_2_g2=0.000
shapecode_2_b2=0.000
shapecode_2_a2=0.000
shapecode_2_border_r=0.500
shapecode_2_border_g=0.500
shapecode_2_border_b=0.000
shapecode_2_border_a=0.000
shape_2_per_frame1=//q25 = time/4;
shape_2_per_frame2=//trel = 2* (q25/2-int(q25/2));
shape_2_per_frame3=trel = q25;
shape_2_per_frame4=copies = 1;
shape_2_per_frame5=copy = (instance%copies)/copies;
shape_2_per_frame6=k1 = int(instance/copies)*copies/num_inst;
shape_2_per_frame7=k2 = k1 + .5;
shape_2_per_frame8=trel = trel ;
shape_2_per_frame9=t0 = .5; //do not change
shape_2_per_frame10=
shape_2_per_frame11=phase = above(trel,t0);
shape_2_per_frame12=mov1 = bnot(phase)* (t0-trel + .01*k1);
shape_2_per_frame13=mov2 = phase * (trel-t0); //####
shape_2_per_frame14=//mov2 = pow(mov2,.8);
shape_2_per_frame15=stray = 1.2-phase;
shape_2_per_frame16=
shape_2_per_frame17=Tht = 3.14*sin(1234.2*k1+time*bnot(phase)) * stray ;
shape_2_per_frame18=Phi = 3245.1*k1;
shape_2_per_frame19=
shape_2_per_frame20=size0 = .02;
shape_2_per_frame21=ox = mov1*q27 + sin(Tht)*cos(phi)* (size0+mov2*(2+k1));
shape_2_per_frame22=oy = mov1*12 + cos(Tht)* (size0+4*mov2*k2)*(1-mov2*k2)/2;
shape_2_per_frame23=oz = mov1*8 + sin(Tht)*sin(phi)* (size0+mov2*2*(2+k1));
shape_2_per_frame24=
shape_2_per_frame25=z0 = 1;
shape_2_per_frame26=rad = .03 / (oz+z0)/(1+trel*rand(100)/50);
shape_2_per_frame27=
shape_2_per_frame28=x = .5 + ox/(oz+z0);
shape_2_per_frame29=y = q29+.2+ oy/(oz+z0);
shape_2_per_frame30=
shape_2_per_frame31=a = .1*bnot(phase)+phase*max(0,1-mov2*0)*above(oz+z0,0)*.8; 
shapecode_3_enabled=0
shapecode_3_sides=14
shapecode_3_additive=1
shapecode_3_thickOutline=1
shapecode_3_textured=1
shapecode_3_num_inst=31
shapecode_3_x=0.750
shapecode_3_y=0.600
shapecode_3_rad=0.01000
shapecode_3_ang=0.00000
shapecode_3_tex_ang=0.00000
shapecode_3_tex_zoom=0.33570
shapecode_3_r=1.000
shapecode_3_g=1.000
shapecode_3_b=0.000
shapecode_3_a=0.500
shapecode_3_r2=1.000
shapecode_3_g2=0.000
shapecode_3_b2=0.000
shapecode_3_a2=0.000
shapecode_3_border_r=0.200
shapecode_3_border_g=0.700
shapecode_3_border_b=0.500
shapecode_3_border_a=0.000
per_frame_init_1=t0a = time; t0 = time+.5;
per_frame_init_2=spb_ = .5; ;
per_frame_init_3=volb = .5; volx = .5;
per_frame_init_4=vol_= 1; index = 0; mov1 = 0;
per_frame_init_5=
per_frame_1=dec_med = pow (0.85, 30/fps); dec_slow = pow (0.95, 30/fps);
per_frame_2=vol = (bass+med+treb)/1.5; vol_ = vol_*dec_slow + (1-dec_slow)*vol;
per_frame_3=
per_frame_4=is_beat = above(vol, .1+vol_+2*peak) * above (time, t0+spb_*.45);
per_frame_5=t0a  = if(is_beat,t0,t0a); t0 = if(is_beat,time,t0);
per_frame_6=peak = if(is_beat,vol,peak*dec_med);
per_frame_7=index = (index + is_beat) %128;
per_frame_8=spb_ = if(is_beat,spb_ *.9 +.1*min(t0-t0a + .01,2), spb_);
per_frame_9=
per_frame_10=q20 = vol_;
per_frame_11=q21 = above(vol,2.7*vol_);
per_frame_12=q22 = max(0,peak-.0)+.01;
per_frame_13=hpeak = hpeak*dec_med + (1-dec_med)*q21;
per_frame_14=q23 = hpeak * (1+rand(8));
per_frame_15=q24 = is_beat;
per_frame_16=volb = bnot(q24)*volb + q24*vol_; //# vol oder vol_ ?
per_frame_17=volx = volx + .2/fps*max(min(volb-volx,1),-1)*bnot(RotMode);
per_frame_18=
per_frame_19=// *********** CENTRAL TIMELINE **************
per_frame_20=rotmode = max(min(sin(mov1/2.4-1.5)*4-3,1),0); //####
per_frame_21=stop = if(bnot(stop),bnot(index%24),below(lo,1))*bnot(rotmode);
per_frame_22=//tmp = status%16;
per_frame_23=spread = if (below(lo,1),spread,rand(2)*rand(12)/20);
per_frame_24=copies = if (below(lo,1),copies,3+rand(2)*rand(8));
per_frame_25=spur  = if (below(lo,1),spur, above(copies,5)*.1);
per_frame_26=bursts = if (below(lo,1),bursts,1+rand(2)*rand(6));
per_frame_27=xbase = if (below(lo,1),xbase,rand(2)*(rand(10)/10-.5));
per_frame_28=vs0 = if (is_beat * bnot(index%77),rand(5)/4-.7,vs0);
per_frame_29=vshift =  vshift + 3/fps*max(min((vs0-vshift),.04),-.04);
per_frame_30=//*********** SMOOTH MOVEMENTS q1 - q8 for SHAPE2 ********
per_frame_31=//FONTAENE
per_frame_32=speed = .15/fps/spb_;
per_frame_33=tmp = mov1; mov1 = mov1+speed; q2 = mov1-tmp; q1 = mov1;
per_frame_34=
per_frame_35=//ROTATION
per_frame_36=//evtl q5 mit rotmode fixieren statt volx blockieren
per_frame_37=tmp = RotMode; q3 = RotMode; q4 = RotMode-tmp;
per_frame_38=
per_frame_39=//VOLUME
per_frame_40=tmp = volx; q5 = volx; q6 = q5-tmp; //nicht aendern waehrend Rotation
per_frame_41=
per_frame_42=//********* SWITCHES SHAPE2 *************
per_frame_43=q10 = bursts; //num bursts
per_frame_44=lo = if(stop,lo+speed,0); //ident. wie bei mov 1!!
per_frame_45=hi = if(above(lo,1),0,hi+speed); //ident. wie bei mov 1!!
per_frame_46=q11 = lo; //fade out
per_frame_47=q12 = hi;
per_frame_48=q13 = sqrt(q22)*0; //blink effect, ca. 0..16
per_frame_49=q14 = copies; //copies - noch implementieren
per_frame_50=q15 = spur*(1-RotMode); //Ampl. multiple spurs; nur mit >8 copies !
per_frame_51=q16 = 0; //reserved for spur start
per_frame_52=q17 = spread * (1-rotmode); //hor. spread, max. ca. 0.4
per_frame_53=q18 = 1/min(max(sin(mov1/2)*10,1),4); //proximity - smaller values: closer;
per_frame_54=q19 = xbase;
per_frame_55=//********* CONTROL PARAMETERS SHAPE3 *************
per_frame_56=xtime = if (stop*q21*above(xtime,2),0,xtime+.2/fps); //impact
per_frame_57=q25 = xtime;
per_frame_58=q26 = if (below(xtime,.55),pow(32,-sqr(xtime-.55)*512),pow(2,-sqr(xtime-.55)*3));
per_frame_59=q27 = sin(time/29)*4; //x-direction impact
per_frame_60=
per_frame_61=//********* GENERAL CONTROL PARAMETERS ***************
per_frame_62=wind = wind+.5/fps * (volx-1.5);
per_frame_63=q28 = wind;//wind direction - warp shader
per_frame_64=q29 = vshift ;// in warp+comp+impact shape
per_frame_65=q30 = max(sin(mov1/2.2)*sin(time/7),0)+q26;// front cloud dens. - comp.
per_frame_66=q31 = q5*2-2 + sin(time/17); //back cloud lighting - comp shader
per_frame_67=q32 = 3+2*sin(time/27); //back cloud density - comp shader
per_frame_68=
per_frame_69=monitor = vshift;;
per_pixel_1=zoom = 1;
per_pixel_2=dy = -.00;
per_pixel_3=warp =.0;
warp_1=`sampler sampler_pw_noise_lq;
warp_2=`float3 crisp,dx,dy,ret1;
warp_3=`float2 zz, uv1,uv2;
warp_4=`float ratio, red, blue, green, n1,n2,n3,n4,zv,z, noise, k1, wave;
warp_5=`static float vshift = q29;
warp_6=`static float wind = q28;
warp_7=`static float2x2 ofs = float2x2 (texsize.z,0,0,texsize.w)*4;//#dreh
warp_8=`
warp_9=`float cloud (float2 uv_in) 
warp_10=`{return pow((1+uv_in.y)*length(uv_in),1);}
warp_11=`
warp_12=`shader_body {
warp_13=`float2 uv1 = float2(uv.x-0.5,uv.y-0.5+vshift);//*aspect.xy;
warp_14=`
warp_15=`dx = tex2D(sampler_main,uv+ofs[0]) - tex2D(sampler_main,uv-ofs[0]);
warp_16=`dy = tex2D(sampler_main,uv+ofs[1]) - tex2D(sampler_main,uv-ofs[1]);
warp_17=`
warp_18=`//RED CHANNEL (fountain)
warp_19=`zz = (float2(dx.r,dy.r)) ;
warp_20=`ratio = .5;
warp_21=`red = ratio*tex2D(sampler_main,uv-.004*zz).r;
warp_22=`red+= (1-ratio)*tex2D(sampler_main,uv).r;
warp_23=`
warp_24=`//GREEN CHANNEL
warp_25=`uv2 = uv1 ;
warp_26=`noise = tex2D (sampler_noise_lq,uv/4);
warp_27=`k1 = 128;
warp_28=`uv2 = float2(uv1.x, 1.0/k1*(int(uv1.y*k1)+abs(frac(uv1.y*k1)-.5))) ;
warp_29=`float2 uv3 = uv2*4;
warp_30=`float ky = saturate(-.5-uv3.y);
warp_31=`k1 = abs(frac((1-.0*uv3.y)*uv3.x*2)-.5)*8 ;
warp_32=`k1 = k1 - sign (k1)*1;//Verdoppelung
warp_33=`
warp_34=`int n = 1 ;
warp_35=`float delta = .1+rand_preset*.05;
warp_36=`while (n <=4) 
warp_37=`{ k1 -= (4*n*sign(k1))*ky*ky;
warp_38=`  ky = saturate (ky - delta);
warp_39=`  delta *= 1;
warp_40=`  n++;}
warp_41=`k1 = clamp(k1,-1.6,1.6);
warp_42=`green = cos(k1*2)-.1 ;
warp_43=`//green *= 1-.3*abs(sin(k1*12));
warp_44=`//wave = (exp(-16*pow(uv1.x+.8-q22,2)))*q3/2+.01;
warp_45=`wave = sin(q1*8-uv.x*6)/2*q3;
warp_46=`wave = wave * (wave >= 0) + q30*.02;
warp_47=`red += wave/abs(sin(1/k1+q1/8))*green*ky;
warp_48=`
warp_49=`//BLUE CHANNEL (clouds)
warp_50=`uv2 = uv;
warp_51=`z = time*.06 ;
warp_52=`zv = time*.08+ .2*sin(uv*16+time); //##
warp_53=`uv2 = uv1*2+ float2(wind,.2*time);
warp_54=`n1 = tex3D(sampler_noisevol_hq,float3 (uv2.x,uv2.y,zv)).b;
warp_55=`n2 = tex3D(sampler_noisevol_hq,float3 (uv2.x*2,uv2.y*2,zv*2)).b;
warp_56=`n3 = tex3D(sampler_noisevol_hq,float3 (uv2.x*4,uv2.y*4,zv*3)).b;
warp_57=`n4 = tex3D(sampler_noisevol_hq,float3 (uv2.x*8,uv2.y*8,zv*7)).b;
warp_58=`noise = n1 + n2/2 + n3/4 + n4/8;
warp_59=`noise = pow(noise,1);
warp_60=`uv2 = uv1+noise*.1;
warp_61=`blue = cloud(uv2);
warp_62=`
warp_63=`//*******************************
warp_64=`ret1 = float3(red,green,blue) ;
warp_65=`ret = ret1*.8-.005;
warp_66=`
warp_67=`//ret = 0;
warp_68=`}
comp_1=`float3 ret1, fountain, sky, lava, uv_vol;
comp_2=`float2 rs0,rs,uv0, uv1, uv2, uv3, uv4, uv_l, uvc, dz1;
comp_3=`float sun, w, z, smoke, smoke2, skymask,lavmask,lavamod,fonmask;
comp_4=`static float2 dz = float2(texsize.z,texsize.w)*1;
comp_5=`static float trel = time/2;
comp_6=`static float vshift = .5-q29;
comp_7=`static float3 skycol = float3 (.1,.1,.2);
comp_8=`static float sm_dens = q32;
comp_9=`static float sm_lit  = q31;
comp_10=`static float2 sunpos = float2 (rand_preset.x,-.1-rand_preset.y/2+vshift)*aspect.xy;
comp_11=`float3 lavcol (float t) {return saturate(float3(t,pow(t,2.1),pow(t,6)));}
comp_12=`float3 foncol (float t) {return saturate(float3(t,pow(t,2.1),pow(t,4)));}
comp_13=`
comp_14=`shader_body {
comp_15=`uv0 = uv;
comp_16=`//uv = (uv-.5)*1+.5;
comp_17=`uvc = (uv-.5)*aspect.xy+.5;
comp_18=`uv_l = uv + float2(.005*time,0);
comp_19=`
comp_20=`float berg1 = lum(tex2D (sampler_noise_mq,uv_l.x/4+.02*trel))/6-uv.y+.8;
comp_21=`float berg2 = lum(tex2D (sampler_noise_hq,uv_l.x/6))+uv.x-.5;
comp_22=`sun = .1/length(sin(uvc-sunpos)); //##Vorfaktor spielen
comp_23=`
comp_24=`uv2 = frac(uv);
comp_25=`fountain = 1*tex2D(sampler_fc_main,uv2).r +2* GetBlur2(uv2).r;
comp_26=`fountain=foncol(fountain.r);
comp_27=`
comp_28=`w = uv.y-berg2/4-vshift; //#hier spielen
comp_29=`z = .2/w;
comp_30=`skymask = saturate(-.2-8*q5*w); //32*w fuer mehr Leuchten
comp_31=`lavmask = saturate(-1-12*w); //lava background
comp_32=`
comp_33=`rs0.x = (uv.x-.5) * (1+abs(z))*2 ; rs0.y = z; //#hier an q29 anpassen
comp_34=`rs0 *= 4*(z<=0)+1;
comp_35=`
comp_36=`float glow = q26/length(rs0-float2(0.,1.5+w))/4;
comp_37=`rs0 *= 1+glow*glow;
comp_38=`rs.x = rs0*2; rs.y = rs0.y + trel*.5;
comp_39=`
comp_40=`float bridge = tex2D (sampler_main,uv).g*skymask;
comp_41=`
comp_42=`lavamod = saturate((tex2D (sampler_noise_hq,rs/16)-.5));
comp_43=`uv_vol = float3(rs*2,.2*trel+0*lavamod)*(z >=0); //# faster
comp_44=`lava = 2*saturate(tex3D (sampler_noisevol_hq,uv_vol)-.2);
comp_45=`lava = lava*lavamod/sqrt(abs(z))+glow;
comp_46=`
comp_47=`ret1 = (uv.y*(1+q23)+sun)*skycol*skymask + lavcol(lum(lava)) * (1-lavmask);
comp_48=`ret1 *= saturate(1-bridge*8);
comp_49=`
comp_50=`smoke = tex2D (sampler_main,frac((uv-.5)*1+.5)).b;
comp_51=`smoke  *= smoke*q5;
comp_52=`ret1 *= saturate(1-smoke*sm_dens*skymask);
comp_53=`smoke2 = tex2D (sampler_main, (uv-.5)/2+.5).b*q30; ;
comp_54=`
comp_55=`ret1 += fountain -z*saturate(smoke+w*sm_lit)*float3(1,.4,0.1)*skymask; 
comp_56=`
comp_57=`ret1 += lavcol(saturate(bridge*z*z/16));
comp_58=`ret1 *= saturate(berg1*32);
comp_59=`ret1 = ret1*saturate(1-smoke2)+lavcol(smoke2)*1;
comp_60=`ret = 1-exp(-ret1*2); //exposure control
comp_61=`}
